<!DOCTYPE html>
<html>
<head>

</head>
<body>
    <form action="http://localhost:8383/Mohammed_Arfa_Adeeb_16610_CS557_HW2/signup_confirm.html" method="post" onsubmit="
    if(validate(this) == false) return false; addcustomer(this);">
        <table border="0" cellspacing="1" cellpadding="3">
            <tr><td colspan="2" align="center">Enter your information</td></tr>
            <tr><td>Email Address: </td><td><input size="20" type="text" name="emailaddress" ><span id="emailmsg"></span></td></tr>
            <tr><td>Password: </td><td><input size="20" type="password" name="password" ><span id="passwdmsg"></span></td></tr>
            <tr><td>ReType Password:  </td><td><input size="20" type="password" name="repassword"><span id="repasswdmsg"></span></td></tr>
            <tr><td>Full Name  </td><td><input size="50" type="text" name="fullname" ><span id="usrmsg"></span></td></tr>
            <tr><td>Address:  </td><td><input size="80" type="text" name="address"></td></tr>
            <tr><td>City:  </td><td><input size="30" type="text" name="city"></td></tr>
            <tr><td>State:  </td><td>
           <select name="state">
	<option value="AL">AL</option>
	<option value="AK">AK</option>
	<option value="AZ">AZ</option>
	<option value="AR">AR</option>
	<option value="CA">CA</option>
	<option value="CO">CO</option>
	<option value="CT">CT</option>
	<option value="DE">DE</option>
	<option value="DC">DC</option>
	<option value="FL">FL</option>
	<option value="GA">GA</option>
	<option value="HI">HI</option>
	<option value="ID">ID</option>
	<option value="IL">IL</option>
	<option value="IN">IN</option>
	<option value="IA">IA</option>
	<option value="KS">KS</option>
	<option value="KY">KY</option>
	<option value="LA">LA</option>
	<option value="ME">ME</option>
	<option value="MD">MD</option>
	<option value="MA">MA</option>
	<option value="MI">MI</option>
	<option value="MN">MN</option>
	<option value="MS">MS</option>
	<option value="MO">MO</option>
	<option value="MT">MT</option>
	<option value="NE">NE</option>
	<option value="NV">NV</option>
	<option value="NH">NH</option>
	<option value="NJ">NJ</option>
	<option value="NM">NM</option>
	<option value="NY">NY</option>
	<option value="NC">NC</option>
	<option value="ND">ND</option>
	<option value="OH">OH</option>
	<option value="OK">OK</option>
	<option value="OR">OR</option>
	<option value="PA">PA</option>
	<option value="RI">RI</option>
	<option value="SC">SC</option>
	<option value="SD">SD</option>
	<option value="TN">TN</option>
	<option value="TX">TX</option>
	<option value="UT">UT</option>
	<option value="VT">VT</option>
	<option value="VA">VA</option>
	<option value="WA">WA</option>
	<option value="WV">WV</option>
	<option value="WI">WI</option>
	<option value="WY">WY</option>
</select>
                        </td></tr>
            <tr><td>Country:  </td><td><input size="30" type="text" name="country"></td></tr>
            <tr><td>Zip Code:  </td><td><input size="5" type="text" name="zipcode" pattern="[0-9]{5}"></td></tr>
            
            
            <tr><td>Phone No:  </td><td><input size="10" type="text" name="phoneno" pattern="[0-9]{10}">
            
            <tr><td><input type="submit" name="submit" value="Submit"></td><td>
                    
            <input type="reset" value="Cancel"></td></tr>
        </table>
    </form>
    <script>
        function validate(userForm) {

    div=document.getElementById("emailmsg"); 
 
   div.style.color="red";
                   
    if(div.hasChildNodes())
                  
    {
        div.removeChild(div.firstChild);    

    }
    
regex=/(^\w+\@\w+\.\w+)/;  
             
    match=regex.exec(userForm.emailaddress.value);
  
  if(!match)
    
{
        div.appendChild(document.createTextNode("Invalid Email"));  
  
      userForm.emailaddress.focus();     
  
        return false;  
                      
    }
 
   div=document.getElementById("passwdmsg");

    div.style.color="red";
  
  if(div.hasChildNodes())
 
   {
        div.removeChild(div.firstChild);
  
  }
    if(userForm.password.value.length <=5)  
  
  {
        div.appendChild(document.createTextNode("The password should be of at least size 6"));
   
     userForm.password.focus();
  
      return false;
    }
 
   div=document.getElementById("repasswdmsg");
 
   div.style.color="red";
 
   if(div.hasChildNodes())

    {
        div.removeChild(div.firstChild);

    }
    if(userForm.password.value != userForm.repassword.value) 
   
 {
        div.appendChild(document.createTextNode("The two passwords don't match"));

        userForm.password.focus();
    
    return false;
    }
 
   var div=document.getElementById("usrmsg");
 
   div.style.color="red";
   
 if(div.hasChildNodes())
   
 {
        div.removeChild(div.firstChild);
    }

    if(userForm.fullname.value.length ==0) 
 
   {
        div.appendChild(document.createTextNode("Name cannot be blank"));
 
       userForm.fullname.focus();
     
   return false;
    }

    return true;
    var phoneno = /^\d{10}$/;  
  if(userForm.phoneno.value.match(phoneno))  
  {   div.appendChild(document.createTextNode("Phoneno wrong"));
     userForm.phoneno.focus(); 
  return false;
  }
  return true;
        
    }

function addcustomer(userForm) 
{ 
	var customer = {};

	customer.email = userForm.emailaddress.value;

	customer.password = userForm.password.value;
	
customer.fullname = userForm.fullname.value;

	customer.address = userForm.address.value;

	customer.city = userForm.city.value;

	customer.state = userForm.state.value;
	
customer.country = userForm.country.value;
	
customer.zipcode = userForm.zipcode.value;
	
customer.phoneno = userForm.phoneno.value;
	
	
// Convert the customer object into JSON data  
	
         
localStorage.customer = JSON.stringify(customer); 

alert(localStorage.customer);

	return true;
	
}


function getCustomer() {	
	
var customerString = [];
	

	if(localStorage.customer !== undefined) { 
           
		customerString = localStorage.customer;

		
		customer = JSON.parse(localStorage.customer);
 
		return customer; 
	} 
	

	return customerString;
}


        </script>
   
</body>
</html>